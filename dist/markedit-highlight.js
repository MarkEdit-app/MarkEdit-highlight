"use strict";const i=require("@codemirror/view"),o=require("@codemirror/language"),s=require("markedit-api"),h={resolve:"TextHighlight",mark:"TextHighlight"},l={defineNodes:["TextHighlight","TextHighlightMark"],parseInline:[{name:"TextHighlight",parse:(t,r,e)=>r!=61||t.char(e+1)!=61?-1:t.addDelimiter(h,e,e+2,!0,!0),after:"Emphasis"}]},m=i.ViewPlugin.fromClass(class{},{provide:()=>i.EditorView.decorations.of(t=>{const r=[];for(const{from:e,to:a}of t.visibleRanges)o.syntaxTree(t.state).iterate({from:e,to:a,enter:n=>{if(n.name!=="TextHighlight")return;const g=i.Decoration.mark({class:"cm-md-textHighlight"});r.push(g.range(n.from,n.to))}});return i.Decoration.set(r.sort((e,a)=>e.from-a.from))})}),c=i.EditorView.baseTheme({".cm-md-textHighlight":{background:"rgba(255, 255, 0, 0.3)"}});s.MarkEdit.addExtension([c,m]);s.MarkEdit.addMarkdownConfig(l);
